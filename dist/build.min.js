"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function setup(){createCanvas(1e3,700),player=new Player,enemy=new NPC(40,"orange",4)}function draw(){if(background(20),keyIsPressed)for(var e in MOVE_KEYS)keyIsDown(MOVE_KEYS[e])&&(player.changeDirection(e),player.move());else player.stop();enemy.follow(player),enemy.render(),player.render()}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),NPC=function(){function e(t,i,s){_classCallCheck(this,e),this.x=width/2,this.y=height/4,this.diameter=40,this.color=i,this.hit=!1,this.items=[],this.speed=0,this.level(s)}return _createClass(e,[{key:"follow",value:function(e){e.x-this.x>0?this.move("right"):e.x-this.x<0?this.move("left"):this.stop(),e.y-this.y>0?this.move("down"):e.y-this.y<0?this.move("up"):this.stop()}},{key:"level",value:function(e){this.maxhp=100,this.maxSpeed=1,this.hp=this.maxhp}},{key:"move",value:function(e){switch(this.speed=this.maxSpeed,e){case"up":this.y-this.speed<0?this.y=0:this.y-=this.speed;break;case"down":this.y+this.speed>height?this.y=height:this.y+=this.speed;break;case"left":this.x-this.speed<0?this.x=0:this.x-=this.speed;break;case"right":this.x+this.speed>height?this.x=height:this.x+=this.speed;break;default:return new Error("invalid direction for movement")}}},{key:"render",value:function(){ellipseMode(CENTER),fill(this.color),ellipse(this.x,this.y,this.diameter,this.diameter)}},{key:"stop",value:function(){this.speed=0}}]),e}(),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),Player=function(){function e(){_classCallCheck(this,e),this.x=width/2,this.y=height/4*3,this.diameter=20,this.color="teal",this.hit=!1,this.hp=100,this.maxhp=100,this.items=[],this.speed=0,this.maxSpeed=2,this.direction="up"}return _createClass(e,[{key:"changeDirection",value:function(e){this.direction=e}},{key:"damage",value:function(e){return!(this.hp-e<=0)&&(this.hp-=e,!0)}},{key:"heal",value:function(e){return this.hp!==this.maxhp&&(this.hp+e>this.maxhp?(this.hp=this.maxhp,!0):(this.hp+=e,!0))}},{key:"move",value:function(){switch(this.speed=this.maxSpeed,this.direction){case"up":this.y-this.speed<0?this.y=0:this.y-=this.speed;break;case"down":this.y+this.speed>height?this.y=height:this.y+=this.speed;break;case"left":this.x-this.speed<0?this.x=0:this.x-=this.speed;break;case"right":this.x+this.speed>width?this.x=width:this.x+=this.speed;break;default:return new Error("invalid direction for movement")}}},{key:"raiseMaxhp",value:function(e){if(!(this.hp>0))return new Error("player has no hp");this.maxhp+=e,this.hp+=e}},{key:"render",value:function(){ellipseMode(CENTER),fill(this.color),ellipse(this.x,this.y,this.diameter,this.diameter)}},{key:"stop",value:function(){this.speed=0}}]),e}(),_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),Weapon=function(){function e(t,i,s,h){_classCallCheck(this,e),this.x=t,this.y=i,this.damage=s,this.combo=0,this.multiplier=1}return _createClass(e,[{key:"attack",value:function(){return this.multiplier=1+this.combo/10,this.combo++,this.damage*=this.multiplier}}]),e}(),MOVE_KEYS={up:87,down:83,left:65,right:68},player=void 0,enemy=void 0;